(function(a,b){if("function"==typeof define&&define.amd)define(["exports"],b);else if("undefined"!=typeof exports)b(exports);else{var c={exports:{}};b(c.exports),a.Unete=c.exports}})(this,function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});class b{constructor(a){this.host=a,this.map={}}async init(){let a=await this.post("/");this.map=this.unmap(a)}async post(a,b=[]){const c=await(await fetch(`${this.host}${a}`,{method:"POST",body:JSON.stringify(b),headers:new Headers({"content-type":"application/x-www-form-urlencoded"})})).json();if("err"===c.status)throw c.result;return c.result}unmap(a){let b={};return a.forEach(a=>{let c=a.split("/"),d=b;for(let e,f=0,g=c.length-1;f<g;f++)e=c[f],e&&(d=b[e],!d&&(d=b[e]={}));let e=c[c.length-1];d[e]=(...b)=>this.post(a,b)}),b}}a.default=async a=>{let c=new b(a);return await c.init(),c.map}});
